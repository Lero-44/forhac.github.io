<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#4CAF50">
    <title>KidsCode Academy - –§–∏–Ω–∞–ª—å–Ω–∞—è –ò–≥—Ä–∞</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
</head>
<body>
    <header class="platform-header">
        <h1>KidsCode Academy</h1>
        <nav class="main-nav">
            <a href="new3.html" class="nav-item" draggable="false">
                <span class="material-symbols-outlined">home</span>
                –ì–ª–∞–≤–Ω–∞—è
            </a>
            <a href="courses1.html" class="nav-item active" draggable="false">
                <span class="material-symbols-outlined">school</span>
                –ö—É—Ä—Å—ã
            </a>
            <a href="progress.html" class="nav-item" draggable="false">
                <span class="material-symbols-outlined">emoji_events</span>
                –ü—Ä–æ–≥—Ä–µ—Å—Å
            </a>
            <a href="profile.html" class="nav-item" draggable="false">
                <span class="material-symbols-outlined">person</span>
                –ü—Ä–æ—Ñ–∏–ª—å
            </a>
        </nav>
    </header>

    <div class="container">
        <main class="lesson-content">
            <div class="progress-indicator">
                <div class="progress-step completed">–í–≤–µ–¥–µ–Ω–∏–µ</div>
                <div class="progress-step completed">–¢–µ–æ—Ä–µ–º–∞</div>
                <div class="progress-step active">–§–∏–Ω–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞</div>
            </div>

            <div class="lesson-section final-game">
                <h2>–§–∏–Ω–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞: –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –ü–∞—Å–∫–∞–ª—è</h2>
                
                <div class="game-content">
                    <div class="game-description">
                        <p>–¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å –≤—Å—ë –æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–µ –ü–∞—Å–∫–∞–ª—è! –î–∞–≤–∞–π –ø—Ä–∏–º–µ–Ω–∏–º —ç—Ç–∏ –∑–Ω–∞–Ω–∏—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—Å–∫–æ–π –∑–∞–¥–∞—á–∏.</p>
                    </div>

                    <div class="coding-challenge">
                        <h3>üéÆ –ó–∞–¥–∞—á–∞: –ü–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏</h3>
                        <p>–£ —Ç–µ–±—è –µ—Å—Ç—å —Ä–æ–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤–ø—Ä–∞–≤–æ –∏ –≤–Ω–∏–∑. –°–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ –æ–Ω –º–æ–∂–µ—Ç –¥–æ–±—Ä–∞—Ç—å—Å—è –∏–∑ —Ç–æ—á–∫–∏ A –≤ —Ç–æ—á–∫—É B?</p>
                        
                        <div class="game-grid">
                            <div class="grid-cell start">A</div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell"></div>
                            <div class="grid-cell end">B</div>
                        </div>

                        <div class="hint-section">
                            <button class="hint-btn secondary-btn">–ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
                            <div class="hint-content hidden">
                                <p>–ü–æ–¥—É–º–∞–π: –∫–∞–∂–¥—ã–π –ø—É—Ç—å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —à–∞–≥–æ–≤ –≤–ø—Ä–∞–≤–æ (R) –∏ –≤–Ω–∏–∑ (D). –°–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?</p>
                            </div>
                        </div>

                        <div class="answer-section">
                            <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—É—Ç–µ–π:
                                <input type="number" id="answer-input" class="number-input">
                            </label>
                            <button id="check-answer" class="primary-btn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
                        </div>

                        <div id="result-message" class="result-message hidden">
                            <span class="material-symbols-outlined"></span>
                            <p></p>
                        </div>
                    </div>

                    <div id="completion-message" class="completion-message hidden">
                        <h3>üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h3>
                        <p>–¢—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª –∫—É—Ä—Å –ø–æ —Ç–µ–æ—Ä–µ–º–µ –ü–∞—Å–∫–∞–ª—è! –¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏.</p>
                        <a href="courses1.html" class="primary-btn">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫—É—Ä—Å–∞–º</a>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const hintBtn = document.querySelector('.hint-btn');
            const hintContent = document.querySelector('.hint-content');
            const answerInput = document.getElementById('answer-input');
            const checkAnswerBtn = document.getElementById('check-answer');
            const resultMessage = document.getElementById('result-message');
            const completionMessage = document.getElementById('completion-message');

            hintBtn.addEventListener('click', function() {
                hintContent.classList.toggle('hidden');
            });

            checkAnswerBtn.addEventListener('click', function() {
                const answer = parseInt(answerInput.value);
                const correctAnswer = 6; // This is the correct number of paths for a 2x2 grid

                resultMessage.classList.remove('hidden');
                if (answer === correctAnswer) {
                    resultMessage.querySelector('span').textContent = 'stars';
                    resultMessage.querySelector('p').textContent = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –¢—ã –Ω–∞—à–µ–ª –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—É—Ç–∏!';
                    resultMessage.className = 'result-message success';
                    completionMessage.classList.remove('hidden');
                    
                    // Set final progress
                    localStorage.setItem('pascalProgress', '100');
                    
                    // Add achievement
                    const achievements = JSON.parse(localStorage.getItem('achievements') || '[]');
                    if (!achievements.includes('pascal_master')) {
                        achievements.push('pascal_master');
                        localStorage.setItem('achievements', JSON.stringify(achievements));
                    }

                    // Trigger progress update event
                    const progressEvent = new CustomEvent('updatePascalProgress', {
                        detail: { progress: 100 }
                    });
                    window.dispatchEvent(progressEvent);
                } else {
                    resultMessage.querySelector('span').textContent = 'error';
                    resultMessage.querySelector('p').textContent = '–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑! –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∏—Å–ø–æ–ª—å–∑—É–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –ü–∞—Å–∫–∞–ª—è.';
                    resultMessage.className = 'result-message error';
                }
            });
        });
    </script>
</body>
</html>
